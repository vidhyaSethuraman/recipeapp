(this.webpackJsonpreactrecipe=this.webpackJsonpreactrecipe||[]).push([[0],{61:function(e,t,c){},62:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c(2),i=c.n(r),a=c(14),s=c.n(a),l=c(10),o=c(11),d=c(32),j=c(9),u=c.n(j),p=c(13),b=c(8),h=c.n(b),O=u.a.mark(f),x=u.a.mark(v);function f(){var e,t;return u.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,Object(p.b)((function(){return h.a.get("https://recipe-app-0002.herokuapp.com/get/recipe")}));case 3:return e=c.sent,t=e.data.recipies,c.next=7,Object(p.c)({type:"REFRESH_R",payload:t});case 7:c.next=12;break;case 9:c.prev=9,c.t0=c.catch(0),console.log(c.t0);case 12:case"end":return c.stop()}}),O,null,[[0,9]])}function v(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("watcher function Recipe"),e.next=3,Object(p.d)("REFRESH",f);case 3:case"end":return e.stop()}}),x)}var g=u.a.mark(R);function R(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.a)([v()]);case 2:case"end":return e.stop()}}),g)}var m=c(21),w={recipies:[]},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;if(console.log(t.type),"REFRESH_R"===t.type){var c=t.payload;return Object(m.a)(Object(m.a)({},e),{},{recipies:c})}return e},y=(c(61),c(12)),k=c(16),S=c.n(k);var C=function(e){var t=e.recipeList,c=Object(r.useState)([]),i=Object(y.a)(c,2),a=i[0],s=i[1],l=Object(o.b)(),d=Object(r.useRef)(null),j=Object(r.useState)(""),u=Object(y.a)(j,2),p=u[0],b=u[1],O=Object(r.useState)(""),x=Object(y.a)(O,2),f=x[0],v=x[1];return Object(r.useEffect)((function(){console.log("hello"),S.a.AutoInit()}),[]),Object(r.useEffect)((function(){var e=t.map((function(e){return Object(n.jsx)("div",{class:"row",children:Object(n.jsx)("div",{class:"col s8",children:Object(n.jsxs)("div",{class:"card",children:[Object(n.jsxs)("div",{class:"card-content",children:[Object(n.jsx)("span",{class:"card-title",children:e.title}),Object(n.jsx)("p",{children:e.description})]}),Object(n.jsxs)("div",{class:"card-action",children:[Object(n.jsx)("button",{class:"btn red",onClick:function(){d.current=e.id,console.log("trying to delete "+d.current),h.a.delete("https://recipe-app-0002.herokuapp.com/delete/recipe/"+d.current).then((function(e){l({type:"REFRESH"})})).catch((function(e){alert("ERROR while deleting recipe data")}))},children:"Delete"}),"\xa0\xa0",Object(n.jsx)("button",{class:"btn amber modal-trigger",href:"#modal2",onClick:function(){d.current=e.id,b(e.title),v(e.description)},children:"Edit"})]})]})})})}));s(e)}),[t]),Object(n.jsxs)(n.Fragment,{children:[a,Object(n.jsxs)("div",{id:"modal2",class:"modal",style:{width:"600px"},children:[Object(n.jsxs)("div",{class:"modal-content",children:[Object(n.jsx)("h4",{children:"Edit Recipe"}),Object(n.jsxs)("div",{class:"row",children:[Object(n.jsx)("label",{children:"Recipe Name"}),Object(n.jsx)("input",{type:"text",value:p,onChange:function(e){b(e.target.value)}})]}),Object(n.jsxs)("div",{class:"row",children:[Object(n.jsx)("label",{for:"textarea1",children:"Description"}),Object(n.jsx)("textarea",{value:f,onChange:function(e){v(e.target.value)},class:"materialize-textarea"})]})]}),Object(n.jsx)("div",{class:"modal-footer",children:Object(n.jsx)("a",{class:"modal-close blue waves-ef btn-flat",onClick:function(){console.log("edit api"),console.log(p);h.a.put("https://recipe-app-0002.herokuapp.com/update/recipe/"+d.current,{title:p,description:f}).then((function(e){l({type:"REFRESH"})})).catch((function(e){console.log(e),alert("ERROR while updating recipe data")}))},children:"Save Changes"})})]})]})};var F=function(){var e=Object(o.b)(),t=Object(r.useRef)(""),c=Object(r.useRef)(""),i=Object(r.useState)([]),a=Object(y.a)(i,2),s=a[0],l=a[1],d=Object(r.useState)(""),j=Object(y.a)(d,2),u=j[0],p=j[1],b=Object(o.c)((function(e){return e.recipies}));return Object(r.useEffect)((function(){S.a.AutoInit(),e({type:"REFRESH"})}),[]),Object(r.useEffect)((function(){l(b)}),[b]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{class:"App",children:[Object(n.jsx)("br",{}),Object(n.jsx)("button",{class:"waves-effect waves-light btn indigo darken-4 modal-trigger",style:{width:"750px"},href:"#modal1",children:"Add Recipe"}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)("input",{type:"text",placeholder:"Search..",value:u,style:{width:"500px"},onChange:function(e){p(e.target.value)}})," \xa0\xa0\xa0 ",Object(n.jsx)("button",{class:"btn blue inline",onClick:function(){var e="?title="+u;h.a.get("https://recipe-app-0002.herokuapp.com/get/recipe"+e,{}).then((function(e){l(e.data.recipies),p("")})).catch((function(e){alert("ERROR while posting recipe data")}))},children:"Find"}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{})]}),Object(n.jsx)("div",{style:{marginLeft:"390px"},children:Object(n.jsx)(C,{recipeList:s})}),Object(n.jsxs)("div",{id:"modal1",class:"modal",style:{width:"600px"},children:[Object(n.jsxs)("div",{class:"modal-content",children:[Object(n.jsx)("h4",{children:"Recipe Details"}),Object(n.jsx)("div",{class:"row",children:Object(n.jsxs)("div",{class:"input-field col s8 ",children:[Object(n.jsx)("input",{type:"text",onChange:function(e){t.current=e.target.value}}),Object(n.jsx)("label",{children:"Recipe Name"})]})}),Object(n.jsx)("div",{class:"row",children:Object(n.jsxs)("div",{class:"input-field col s8 ",children:[Object(n.jsx)("textarea",{onChange:function(e){c.current=e.target.value},class:"materialize-textarea"}),Object(n.jsx)("label",{for:"textarea1",children:"Description"})]})})]}),Object(n.jsx)("div",{class:"modal-footer",children:Object(n.jsx)("a",{href:"#!",class:"modal-close blue waves-effect waves-green btn-flat",onClick:function(){h.a.post("https://recipe-app-0002.herokuapp.com/add/recipe",{title:t.current,description:c.current}).then((function(t){e({type:"REFRESH"}),window.location.reload(!1)})).catch((function(e){alert("ERROR while posting recipe data")}))},children:"Add Recipe"})})]})]})};var H=function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)("header",{children:Object(n.jsx)("h3",{class:"blue-text App",children:"Shelly's Online Cook Book"})}),Object(n.jsx)(F,{})]})},A=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,63)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,i=t.getLCP,a=t.getTTFB;c(e),n(e),r(e),i(e),a(e)}))},D=Object(d.a)(),L=Object(l.d)(E,Object(l.a)(D));D.run(R),s.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(o.a,{store:L,children:Object(n.jsx)(H,{})})}),document.getElementById("root")),A()}},[[62,1,2]]]);
//# sourceMappingURL=main.95e4b34a.chunk.js.map